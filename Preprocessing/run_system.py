from multiprocessing import Pool, Process
from settings import *
import os

from byte_code_feature_extraction import byte_extraction


def byte_code_worker(datasets):
    byte_pool = Pool(2)
    byte_pool.map(byte_extraction, datasets)

def main():
    steps = ['feature extraction', 'feature fusion', 'classification']
    step = steps[0]

    datasets = ['train', 'test']

    if step == 'feature extraction':
        print('Feature Extraction Step')
        print('=======================')

        p1 = Process(target=byte_code_worker, args=(datasets,))
        p1.start()
        p1.join()
        print('Done!')

if __name__ == "__main__":
    main()